HTML
<html lang="zh_CN">
 <head>
  <meta charset="utf-8"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover" name="viewport"/>
  <title>
   数週間試して、コンピュータに3つの大規模モデルを保存しました。
  </title>
  <link href="./assets/17462643395990.3286419337108403.css" rel="stylesheet"/>
  <link href="./assets/17462643397560.46681296386005966.css" rel="stylesheet"/>
  <link href="./assets/17462643398860.27100079076025696.css" rel="stylesheet"/>
  <link href="./assets/17462643401840.36730068032591556.css" rel="stylesheet"/>
  <link href="./assets/17462643411760.022284164477721524.css" rel="stylesheet"/>
  <link href="./assets/17462643413150.49509598550083533.css" rel="stylesheet"/>
  <link href="./assets/17462643414550.6029711818966502.css" rel="stylesheet"/>
  <link href="./assets/17462643415980.3282914985472213.css" rel="stylesheet"/>
  <link href="./assets/17462643417370.4859071607692653.css" rel="stylesheet"/>
  <style>
   #page-content,
        #js_article_bottom_bar,
        .__page_content__ {
            max-width: 667px;
            margin: 0 auto;
        }
        img {
            max-width: 100%;
        }
        .sns_opr_btn::before {
            width: 16px;
            height: 16px;
            margin-right: 3px;
        }
  </style>
 </head>
 <body class="zh_CN wx_wap_page wx_wap_desktop_fontsize_2 mm_appmsg comment_feature discuss_tab appmsg_skin_default appmsg_style_default">
  <div class="rich_media" id="js_article" style="position:relative;">
   <div class="rich_media_inner" id="js_base_container">
    <div class="wx_row_immersive_stream_wrap" id="js_row_immersive_stream_wrap">
     <div id="js_row_immersive_cover_img">
      <img alt="cover_image" class="wx_follow_avatar_pic" src="./assets/17462643390500.8684633729664023.jpeg"/>
     </div>
     <div class="wx_row_immersive_stream_mask" id="js_row_immersive_stream_mask">
     </div>
    </div>
    <div class="rich_media_area_primary" id="page-content" style="">
     <div class="rich_media_area_primary_inner">
      <div class="rich_media_wrp" id="img-content">
       <h1 class="rich_media_title" id="activity-name">
        数週間試してみたが、コンピュータ上に3つの大規模モデルを保持している。
       </h1>
       <div class="rich_media_meta_list" id="meta_content">
        <span class="wx_tap_link js_wx_tap_highlight rich_media_meta icon_appmsg_tag appmsg_title_tag weui-wa-hotarea" id="copyright_logo">
         オリジナル
        </span>
        <span class="rich_media_meta rich_media_meta_text">
         ダンライブ
        </span>
        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
         <a class="wx_tap_link js_wx_tap_highlight weui-wa-hotarea" href="javascript:void(0);" id="js_name">
          ダンライブ
         </a>
         <div id="js_profile_card">
         </div>
        </span>
        <span class="" id="meta_content_hide_info">
         <em class="rich_media_meta rich_media_meta_text" id="publish_time">
          2025年5月3日 16:30
         </em>
         <em aria-labelledby="js_a11y_op_ip_wording js_ip_wording" class="rich_media_meta rich_media_meta_text" id="js_ip_wording_wrp" role="option" style="display: inline-block;">
          <span aria-hidden="true" id="js_a11y_op_ip_wording">
          </span>
          <span aria-hidden="true" id="js_ip_wording">
           上海
          </span>
         </em>
         <em aria-labelledby="js_a11y_op_title_modify js_title_modify" class="rich_media_meta rich_media_meta_text" id="js_title_modify_wrp" role="option" style="display: none;">
          <span aria-hidden="true" id="js_title_modify">
          </span>
         </em>
         <span class="wx_tap_link js_wx_tap_highlight rich_media_meta rich_media_meta_link rich_media_meta_star" id="js_star" role="link" style="display: none;" tabindex="0">
         </span>
        </span>
       </div>
       <div class="rich_media_content js_underline_content autoTypeSetting24psection" id="js_content">
        <section>
         <span leaf="">
          deepseekがローカルにLLMを展開する可能性を提供して以来、ollamaを使ってローカルに展開する方法を試してみることにしました。正直に言って、ollama run qwen3:14bというようなコマンドの使い方は、もう非常に簡単です。ollamaはモデルファイルを直接ダウンロードし、その後すぐに会話モードに入ることができます。
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          私のパソコンは2021年下半年に自分で組み立てたものです。当時は特にグラフィックカードの価格が高騰していた時期で、最初は1060のグラフィックカードを使っていました。その後しばらく待って、3080Ti 12GBに交換しました。現在では、LLMのテストのために新しいグラフィックカードに替える必要もないでしょう。というのも、大容量のメモリを備えたグラフィックカードはやはり高価だからです。
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          幸いにも大規模モデルのベンダー同士が熾烈な競争を繰り広げているため、フルスペックではないモデルが消費者向けのGPUでの展開に対してますます親しみやすいようになってきている。最近は主にいくつかのモデルをローカルで展開して試してみた。
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          qwq:32b-preview-q4_K_M
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          DeepSeek-R1:32B
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          DeepSeek-R1:14B
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          ジェムマ3:27b
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          gemma3:12b
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          Qwen3:14B
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          試してみたところ、32bのモデルはモデル自体が約20GBあり、この12GBのGPUでは非常に厳しい状況で、メモリがすべて使い切れて、出力トークンの速度が非常に遅いことがわかりました。
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          そのため、12bと14bというパラメータを持つモデルファイルは一般的に約9GBのサイズを持っています。それぞれは以下の通りです：
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          deepseek-r1:14b   9.0GB
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          gemma3:12b         8.1GB
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          Qwen3:14B            9.3GB
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <img class="rich_pages wxw-img js_insertlocalimg" data-imgfileid="100000017" data-ratio="0.6138888888888889" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/QX8497U9PKzj1LUsm2Uw0ur5kQEatxyVDkSSdECr5HgHTVoEazAVobU2R6dGiahcqh6zhVVJ3DWHPJaFAaKdlGQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="./assets/17462643392080.2901477842588346.png" type="block"/>
         </span>
        </section>
        <section>
         <span leaf="">
          実行速度から見ると、最も速いのはqwen3:14bで、GPUの利用率は非常に高く、90％以上に達することができる。また、これは推論と非推論を統合したモデルであり、特色がある。推論を行わない場合は、会話中に「/no_think」を加えるだけで、回答がはっきりと簡潔になる。APIを呼び出す際には、依然として一対の空の「&lt;think&gt;」タグを出力するが、戻り値の文字列を処理する必要があるものの、その回答は後続の処理にとっても比較的容易である。
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          gemma3:12bも私は保存しておきました。それは画像の説明ができるマルチモーダルモデルだからです。ただ、APIを呼び出すときに少々面倒で、常に前置きやまとめの文を追加してしまうからです。結果だけが必要なプログラム呼び出し（例えば短い文章の翻訳など）の場合は、プロンプトに調整や制限を加える必要があります。
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          deepseek-r1:14bも残しておきました。なぜなら、私はクラウド上でdeepseekのAPIを呼び出して、ローカルの参照として使用するからです。主に、オンラインとオフラインの2つのバージョンの違いを頻繁に確認できるようにするためです。これはおそらく最もうるさく、話が多いモデルですが、中国の誇りでもあるため、残しておくのは一種の郷愁です。r2がリリースされたら、おそらくr2のいずれかのバージョンに置き換えられるでしょう。
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          コンピュータの仕様は以下の通りです：
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          <img class="rich_pages wxw-img js_insertlocalimg" data-imgfileid="100000018" data-ratio="0.24722222222222223" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/QX8497U9PKzj1LUsm2Uw0ur5kQEatxyVFVfHnlhdibhV4N5ljSStfIzSfnd1rtI3g6uqgCTq3egWfFYiaqKbpicaQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="./assets/17462643393380.8579404725261033.png" type="block"/>
         </span>
        </section>
        <section>
         <span leaf="">
          プロセッサ　AMD Ryzen 9 5950X 16コア プロセッサ　3.40 GHz
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          メモリ（RAM）　128 GB　2400MHz
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          バージョン　Windows 11 プロフェッショナルエディション
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          バージョン番号	24H2
         </span>
         <span leaf="">
          <br/>
         </span>
         <span leaf="">
          グラフィックカード　NVIDIA GeForce RTX 3080 Ti 12GB
         </span>
        </section>
        <p style="display: none;">
         <mp-style-type data-value="3">
         </mp-style-type>
        </p>
       </div>
      </div>
      <div class="rich_media_tool_area" id="js_temp_bottom_area">
       <div class="rich_media_tool__wrp">
        <div class="rich_media_tool">
         <div class="rich_media_info weui-flex">
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div class="rich_media_area_primary sougou" id="sg_tj" style="display:none">
    </div>
    <div class="rich_media_area_extra">
     <div class="rich_media_area_extra_inner">
      <div id="page_bottom_area">
      </div>
     </div>
    </div>
   </div>
  </div>
  <div class="bottom_bar_wrp" id="js_article_bottom_bar">
   <div id="article_bottom_bar_area">
   </div>
  </div>
  コメントデータ
 </body>
</html>
